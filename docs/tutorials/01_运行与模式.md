# 运行与模式

本篇讲清楚 Prajna 的四种常用运行方式、适用场景、操作步骤与常见问题：执行 Main、脚本模式（.prajnascript）、REPL、Jupyter。

## 1. 执行包含 Main 的程序

- 适用场景：单文件或项目入口，和 C/C++ 的 main 函数类似
- 要求：源文件内包含 `func Main(){ ... }`
- 命令：
```bash
prajna exe examples/hello_world.prajna
```
- 成功标志：程序输出预期内容，进程正常退出
- 常见问题：
  - 找不到命令 `prajna`：将 Prajna 可执行文件目录加入 PATH，或从构建产物 `build_release/install/bin` 运行
  - 找不到文件：确认相对路径基于当前工作目录；建议在仓库根目录执行命令

## 2. 脚本模式（.prajnascript）

- 适用场景：像脚本一样按行顺序执行一组语句，便于快速演示或批量任务
- 示例：`examples/hello_world.prajnascript`
```prajna
"Hello World\n".PrintLine();
```
- 命令：
```bash
prajna exe examples/hello_world.prajnascript
```
- 特点：无需 `Main`，按文件顺序逐行执行；适合原型/一次性任务
- 常见问题：
  - 语句之间存在依赖时请注意定义顺序；尽量保持脚本幂等

## 3. REPL 交互模式

- 适用场景：交互式实验、调试表达式、学习语言特性
- 命令：
```bash
prajna repl
```
- 基本用法：
```text
"Hello from REPL".PrintLine();
```
- 提示：
  - 可以逐条定义变量/函数并立即调用，快速验证想法
  - 复杂代码建议整理为文件后用 `prajna exe` 运行，便于版本管理
- 常见问题：
  - 终端编码/输入法导致显示异常：优先在系统终端或 VSCode/Cursor 终端中直接运行测试

## 4. 在 Jupyter 中使用 Prajna

- 适用场景：文档化演示、教学、交互探索，适配 `.ipynb`
- 安装内核：
```bash
prajna jupyter --install
```
- 启动后，可打开随仓库提供的示例笔记本：`docs/notebooks/hello_world.ipynb`
- 提示：
  - 建议先确保本地 Jupyter 可用（如安装 `jupyterlab` 或 `notebook`）
  - 如需容器化运行，可参考仓库内 `docs/notebooks/Dockerfile`
- 常见问题：
  - 浏览器打不开或内核不可用：先在命令行确认 `prajna` 命令可用，再确认 Python/Jupyter 环境

## 5. 选择哪种模式？
- 写程序与示例：优先 “执行 Main”
- 快速串行演示或自动化小任务：脚本模式
- 交互试验/调试：REPL
- 教学与可视化文档：Jupyter

## 6. 平台与路径小贴士
- Windows：若使用 VS 工具链构建，需先进入已配置好编译环境的终端（见《指南》“编译与安装”）
- Linux/macOS：如通过源码构建，命令需在 `build_release/install/bin` 在 PATH 后运行
- 相对路径基于当前终端工作目录；建议在仓库根目录下执行示例命令
